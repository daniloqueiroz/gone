<!DOCTYPE html>
<html>
	<head>
		<title>{{.Title}}</title>
		<meta http-equiv="refresh" content="60">
		<link href='http://fonts.googleapis.com/css?family=Play&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
		<style>
			body {
				font-family: 'Play', sans-serif;
				margin: 2% 6%;
			}
			aside {
				float: right;
			}
			#box {
				border: thin solid #428a42;
				background: #efffef;
				padding: 1em;
				margin-left: 1em;
			}
			.odd {
				background: #efefef;
			}
			.total {
				border-top: thin solid black;
			}
			a {
				text-decoration: none;
			}
			.right {
				text-align: right;
			}
		</style>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript">
			google.load('visualization', '1.0', {'packages':['corechart']});
			google.setOnLoadCallback(drawChart);
			function drawChart() {
				var data = new google.visualization.DataTable();
				data.addColumn('string', 'Class');
				data.addColumn('number', 'Time');
				data.addRows([
					{{range .Classes}}
					['{{.Class}}', {{.Spent.Seconds}}],
					{{end}}
				]);
				var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
				var options = {
					legend: 'none'
				};
				chart.draw(data, options);
			}
		</script>
	</head>
	<body>
		<h1>{{.Title}}{{if .Zzz}} Zzz&hellip;{{end}}</h1>
		<aside>
			<section id="box">
			<table>
			{{range .Classes}}
			<tr>
				<td><a href="/{{.Class}}">{{.Class}}</a></td>
				<td class="right">{{.Spent}}</td>
			</tr>
			{{end}}
			<tr>
				<td><a href="/">&Sigma;</a></td>
				<td class="total right">{{.Total}}</td>
			</tr>
			</table>
			</section>

			<section id="chart">
			<div id="chart_div"></div>
			</section>

			<section id="funcs">
			<ul>
			<li><a href="/gone.json">Dump</a></li>
			<li><a href="/reset">Reset</a> (take care!)</li>
			</ul>
			</section>
		</aside>

		<table>
		<tr>
			<th>Class</th>
			<th>Name</th>
			<th>Duration</th>
		</tr>
		{{range .Records}}
		<tr {{if .Odd}}class="odd"{{end}}>
			<td><a href="/{{.Class}}">{{.Class}}</a></td>
			<td>{{.Name}}</td>
			<td class="right">{{.Spent}}</td>
		</tr>
		{{end}}
		</table>
	</body>
</html>

